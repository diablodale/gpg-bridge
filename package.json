{
  "name": "gpg-bridge-monorepo",
  "description": "GPG Bridge - Extension pack for bridging GPG to Windows from remotes",
  "version": "0.2.0",
  "license": "MIT",
  "homepage": "https://github.com/diablodale/gpg-bridge",
  "repository": {
    "type": "git",
    "url": "https://github.com/diablodale/gpg-bridge.git"
  },
  "private": true,
  "keywords": [
    "gpg",
    "gnupg",
    "bridge",
    "assuan",
    "git-signing",
    "gpg4win"
  ],
  "scripts": {
    "compile": "npm run compile:shared && npm run compile:agent && npm run compile:request",
    "compile:shared": "npm --prefix shared run compile",
    "compile:agent": "npm --prefix gpg-bridge-agent run compile",
    "compile:request": "npm --prefix gpg-bridge-request run compile",
    "postinstall": "npm run postinstall:shared && npm run postinstall:agent && npm run postinstall:request && npm run postinstall:pack && npm run icon:deploy && node scripts/setup-hooks.js",
    "postinstall:shared": "npm install --prefix shared",
    "postinstall:agent": "npm install --prefix gpg-bridge-agent",
    "postinstall:request": "npm install --prefix gpg-bridge-request",
    "postinstall:pack": "npm install --prefix pack",
    "watch": "npm run watch:shared & npm run watch:agent & npm run watch:request",
    "watch:shared": "npm --prefix shared run watch",
    "watch:agent": "npm --prefix gpg-bridge-agent run watch",
    "watch:request": "npm --prefix gpg-bridge-request run watch",
    "prepackage": "npm run assets",
    "assets": "npm run icon && npm run diagram",
    "diagram": "npm run diagram:render",
    "diagram:render": "mmdc -i assets/how-it-works.mmd -o assets/how-it-works.png -b transparent",
    "package": "npm run package:agent && npm run package:request && npm run package:pack",
    "package:agent": "npm --prefix gpg-bridge-agent run vsix",
    "package:request": "npm --prefix gpg-bridge-request run vsix",
    "package:pack": "npm --prefix pack run vsix",
    "test": "npm run test:shared && npm run test:agent && npm run test:request",
    "test:shared": "npm --prefix shared test",
    "test:agent": "npm --prefix gpg-bridge-agent test",
    "test:request": "npm --prefix gpg-bridge-request test",
    "test:integration": "npm --prefix shared run test:integration && npm --prefix gpg-bridge-agent run test:integration && npm --prefix gpg-bridge-request run test:integration",
    "test:watch": "npm --prefix shared run test:watch",
    "lint": "npm run lint:shared && npm run lint:agent && npm run lint:request",
    "lint:shared": "npm --prefix shared run lint",
    "lint:agent": "npm --prefix gpg-bridge-agent run lint",
    "lint:request": "npm --prefix gpg-bridge-request run lint",
    "icon": "npm run icon:render && npm run icon:deploy",
    "icon:render": "node -e \"const{Resvg}=require('@resvg/resvg-js');const fs=require('fs');const svg=fs.readFileSync('./assets/icon.svg');const png=new Resvg(svg,{fitTo:{mode:'width',value:256}}).render().asPng();fs.writeFileSync('./assets/icon.png',png);console.log('assets/icon.png written');\"",
    "icon:deploy": "node -e \"const fs=require('fs');['gpg-bridge-agent','gpg-bridge-request','pack'].forEach(d=>{fs.copyFileSync('./assets/icon.png',d+'/icon.png');console.log(d+'/icon.png copied');});\"",
    "clean": "rimraf -g \"gpg-bridge-agent/out\" \"gpg-bridge-request/out\" \"gpg-bridge-agent/gpg-bridge-agent-*.vsix\" \"gpg-bridge-request/gpg-bridge-request-*.vsix\" \"pack/gpg-bridge-*.vsix\" \"shared/out\"",
    "release": "commit-and-tag-version",
    "release:dry-run": "commit-and-tag-version --dry-run"
  },
  "devDependencies": {
    "@commitlint/cli": "^19.8.0",
    "@commitlint/config-conventional": "^19.8.0",
    "@j178/prek": "^0.3.3",
    "@mermaid-js/mermaid-cli": "^11.12.0",
    "@resvg/resvg-js": "^2.6.2",
    "commit-and-tag-version": "^12.6.1",
    "rimraf": "^6.1.3"
  },
  "commitlint": {
    "extends": [
      "@commitlint/config-conventional"
    ],
    "rules": {
      "body-leading-blank": [
        2,
        "always"
      ],
      "footer-leading-blank": [
        2,
        "always"
      ],
      "type-enum": [
        2,
        "always",
        [
          "feat",
          "fix",
          "perf",
          "security",
          "deprecate",
          "docs",
          "chore",
          "refactor",
          "test",
          "build",
          "ci"
        ]
      ]
    }
  },
  "commit-and-tag-version": {
    "bumpFiles": [
      {
        "filename": "package.json",
        "type": "json"
      },
      {
        "filename": "gpg-bridge-agent/package.json",
        "type": "json"
      },
      {
        "filename": "gpg-bridge-request/package.json",
        "type": "json"
      },
      {
        "filename": "pack/package.json",
        "type": "json"
      },
      {
        "filename": "shared/package.json",
        "type": "json"
      }
    ],
    "header": "# Changelog\n\nAll notable changes to this project will be documented in this file.\nSee [Conventional Commits](https://conventionalcommits.org) for guidelines.",
    "commitAll": true,
    "sign": true,
    "noVerify": true,
    "scripts": {
      "prerelease": "node scripts/release-guard.js",
      "postchangelog": "node -e \"const fs=require('fs');['gpg-bridge-agent','gpg-bridge-request','pack'].forEach(d=>{fs.copyFileSync('CHANGELOG.md',d+'/CHANGELOG.md');console.log(d+'/CHANGELOG.md copied');})\"",
      "precommit": "git add gpg-bridge-agent/CHANGELOG.md gpg-bridge-request/CHANGELOG.md pack/CHANGELOG.md"
    },
    "types": [
      {
        "type": "feat",
        "section": "Added"
      },
      {
        "type": "feat",
        "scope": "remove",
        "section": "Removed"
      },
      {
        "type": "feat",
        "scope": "removed",
        "section": "Removed"
      },
      {
        "type": "fix",
        "section": "Fixed"
      },
      {
        "type": "perf",
        "section": "Performance"
      },
      {
        "type": "security",
        "section": "Security"
      },
      {
        "type": "deprecate",
        "section": "Deprecated"
      },
      {
        "type": "docs",
        "hidden": true
      },
      {
        "type": "chore",
        "hidden": true
      },
      {
        "type": "refactor",
        "hidden": true
      },
      {
        "type": "test",
        "hidden": true
      },
      {
        "type": "build",
        "hidden": true
      },
      {
        "type": "ci",
        "hidden": true
      }
    ]
  }
}
